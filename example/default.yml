参数概览
参数分为三个主要类别：数据集参数、模型参数和训练参数。
数据集参数
参数名默认值描述dataset_root"./dataset"包含反应数据的根目录dataset_csv"./dataset/data.csv"包含反应元数据的CSV文件target_fields["G(TS)", "DrG"]需要预测的目标特性字段列表file_patterns['*_reactant.xyz', '*_ts.xyz', '*_product.xyz']要查找的分子结构文件模式input_features[]CSV中用作输入的特征名称列表use_scalerTrue是否对目标值进行缩放train_ratio0.8训练集占比val_ratio0.1验证集占比test_ratio0.1测试集占比cv_folds0交叉验证折数（0表示不使用交叉验证）cv_test_fold-1用作测试集的CV折（-1表示使用标准分割）cv_stratifyFalse是否进行分层交叉验证cv_groupedTrue是否对反应进行分组交叉验证id_field"ID"CSV中反应ID的列名dir_field"R_dir"CSV中包含XYZ文件的子目录列名reaction_field"reaction"CSV中反应SMILES的列名file_dir_pattern"reaction_*"反应目录的模式force_reloadFalse是否强制重新加载数据集inference_modeFalse是否以推理模式运行
模型参数
通用模型参数
参数名默认值描述model_type"dimenet++"模型类型（目前支持dimenet++）readout"mean"读出函数类型（mean, sum, max, attention）node_dim128节点嵌入维度dropout0.1随机失活率use_layer_normFalse是否使用层归一化prediction_hidden_layers3预测头中的隐藏层数量prediction_hidden_dim512预测头中的隐藏层维度max_num_atoms100单个分子中的最大原子数
DimeNet++特定参数
参数名默认值描述hidden_channels128隐藏通道数num_blocks5模型块数量int_emb_size64交互嵌入大小basis_emb_size8基函数嵌入大小out_emb_channels256输出嵌入通道数num_spherical7球谐函数数量num_radial6径向基函数数量cutoff5.0截断距离（埃）envelope_exponent5包络函数指数num_before_skip1跳连接前的层数num_after_skip2跳连接后的层数num_output_layers3输出层数max_num_neighbors32每个原子的最大邻居数
训练参数
参数名默认值描述batch_size16批次大小eval_batch_sizeNone评估批次大小（None则使用batch_size）learning_rate / lr0.0005学习率finetune_lrNone微调学习率（None则使用learning_rate的0.1倍）max_epochs / epochs100最大训练轮数min_epochs0最小训练轮数early_stopping_patience / early_stopping40提前停止的耐心值optimizer"adamw"优化器类型（adam, adamw, sgd, rmsprop）weight_decay0.0001权重衰减系数scheduler"warmup_cosine"学习率调度器（cosine, step, plateau, exponential, warmup_cosine）warmup_epochs10预热轮数min_lr1e-7最小学习率loss_function"mse"损失函数（mse, mae, huber, smooth_l1）target_weights[1.0, 1.0]每个目标的权重列表gradient_clip_val0.0梯度裁剪值（0表示不裁剪）output_dir / out_dir"./results/reaction_model"输出目录save_best_modelTrue是否保存最佳模型save_last_modelFalse是否保存最后一个模型checkpoint_pathNone恢复训练的检查点路径mode"continue"检查点加载模式（continue或finetune）freeze_base_modelFalse微调时是否冻结基础模型gpu / cudaTrue是否使用GPUgpu_id0使用的GPU IDprecision"32"训练精度（16, 32, bf16, mixed）log_every_n_steps50每多少步记录一次日志num_workers4数据加载的工作线程数
